(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[216],{6902:function(e,t,n){"use strict";n.d(t,{r:function(){return d}});var a=n(5893),r=n(7294),l=n(5697),s=n.n(l),o=n(2914),i=n(3321),u=n(6886);let d=(0,r.forwardRef)((e,t)=>{let[n,l]=(0,r.useState)(""),[s,d]=(0,r.useState)("");(0,r.useImperativeHandle)(t,()=>({clear(){l(""),d("")},setDate1(e){l(e.toISOString().split("T")[0])},setDate2(e){d(e.toISOString().split("T")[0])},getDates:()=>h()}));let c=e=>{l(e.target.value)},m=e=>{d(e.target.value)},f=()=>{let t=h();e.onSubmit(t.date1,t.date2)},h=()=>{var e=null,t=null;if(""!=n){e=new Date(n);let t=e.getTimezoneOffset();e.setMinutes(e.getMinutes()+t)}if(""!=s){t=new Date(s);let e=t.getTimezoneOffset();t.setMinutes(t.getMinutes()+e)}return{date1:e,date2:t}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:e.title}),(0,a.jsxs)(u.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,a.jsx)(u.ZP,{item:!0,xs:5,children:(0,a.jsx)(o.Z,{label:e.date1Text,variant:"outlined",type:"date",value:n,onChange:c,fullWidth:!0,InputLabelProps:{shrink:!0}})}),(0,a.jsx)(u.ZP,{item:!0,xs:5,children:(0,a.jsx)(o.Z,{label:e.date2Text,variant:"outlined",type:"date",value:s,onChange:m,fullWidth:!0,InputLabelProps:{shrink:!0}})}),(0,a.jsx)(u.ZP,{item:!0,xs:2,children:(0,a.jsx)(i.Z,{variant:"contained",onClick:f,children:e.buttonText})})]})]})});d.defaultProps={date1Text:"Start date",date2Text:"End date",onSubmit:null,buttonText:"Filter",title:"Filter"},d.propTypes={date1Text:s().string,date2Text:s().string,onSubmit:s().func,buttonText:s().string,title:s().string}},3426:function(e,t,n){"use strict";n.d(t,{t:function(){return p}});var a=n(5893),r=n(7294),l=n(5697),s=n.n(l),o=n(3156),i=n(6902),u=n(9085),d=n(7028);u.ZP.register(d.Z);let c=e=>{let[t,n]=(0,r.useState)(!1);var l=(0,r.useRef)(null);let[s,o]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(null===e.data||null===e.labels)&&o(null),null!==e.data&&null!==e.labels&&(n(!1),o({labels:e.labels,data:e.labels}))},[e.data,e.labels]),(0,r.useEffect)(()=>{null!==s&&n(!0)},[s]),(0,r.useEffect)(()=>{if(t){let t=l.current.getContext("2d");new u.ZP(t,{type:"bar",data:{labels:e.labels,datasets:[{label:e.title,data:e.data,backgroundColor:e.backgroundColor}]},options:{scales:{x:{title:{display:!0,text:e.xTitle,font:{size:e.xFontSize}}},y:{beginAtZero:!0,title:{display:!0,text:e.yTitle,font:{size:e.yFontSize}}}},plugins:{datalabels:{color:"white",font:{weight:"bold",size:20}}}}})}},[t]),(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)("canvas",{ref:l}):null})};c.defaultProps={title:"Title",data:[],labels:[],backgroundColor:"rgba(75,192,192,1)",xTitle:"X axis",yTitle:"Y axis",xFontSize:20,yFontSize:20},c.propTypes={title:s().string,data:s().arrayOf(s().number),labels:s().arrayOf(s().string),backgroundColor:s().string,xTitle:s().string,xFontSize:s().number,yTitle:s().string,yFontSize:s().number};var m=n(381),f=n.n(m),h=n(2001);let g=(0,r.forwardRef)((e,t)=>{let n=(0,r.useRef)(null);var l=!1;let[s,o]=(0,r.useState)(null),[i,u]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),p=e=>{s.setData(e)};return(0,r.useEffect)(()=>{null!==e.data&&(g(!0),c(null)),console.log("  ")},[e.data]),(0,r.useEffect)(()=>{null===d?c(e.data):function(){if(!l){let t=n.current;if(!t)return;let a=(0,h.C2)(t,{autoSize:!0,height:e.height,timeScale:{timeVisible:!0,secondsVisible:!1}});a.applyOptions({crosshair:{mode:h.rM.Normal,vertLine:{width:4,color:"#C3BCDB44",style:h.TD.Solid,labelBackgroundColor:"#9B7DFF"},horzLine:{color:"#9B7DFF",labelBackgroundColor:"#9B7DFF"}}});let r=a.addAreaSeries({lineColor:"#A80F07",topColor:"#C02115",bottomColor:"#F6F6F6"});u(a),o(r),l=!0}}()},[d]),(0,r.useEffect)(()=>{null!==s&&m&&null!==i&&null!==d&&(g(!1),p(d))},[s,m,i]),(0,a.jsx)(a.Fragment,{children:null!==d?(0,a.jsx)("div",{ref:n,id:"chart",className:f().container}):null})});g.defaultProps={width:1200,height:800,data:null},g.propTypes={width:s().number,height:s().number,data:s().any};let p=(0,r.forwardRef)((e,t)=>{var n,l;let s=(0,r.useRef)(null),u=(0,r.useRef)(null),[d,m]=(0,r.useState)(null);return(0,r.useImperativeHandle)(t,()=>({getFilterData:()=>u.current.getDates()})),(0,r.useEffect)(()=>{m(e.data)},[e.data]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)("h1",{children:e.title}),(0,a.jsx)(i.r,{ref:u,onSubmit:e.onFilter}),null!==d?(n=d.lineChartData,l=d.barChartData,(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Monthly inflation"}),(0,a.jsx)(g,{ref:s,height:700,data:n}),(0,a.jsx)("h2",{children:"Cumulative inflation"}),(0,a.jsx)(c,{labels:l.labels,data:l.data,title:"Cumulative inflation",xTitle:"Total %",yTitle:"Period"})]})):null]})})});p.defaultProps={title:"Inflation in Argentina",onFilter:function(e,t){console.log("startDate: ",e),console.log("endDate: ",t)},data:null},p.propTypes={title:s().string,onFilter:s().func,data:s().any}},3216:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var a=n(5893),r=n(7294),l=n(5697),s=n.n(l),o=n(1703),i=n(44),u=n(2914),d=n(3321),c=n(6886);let m=(0,r.forwardRef)((e,t)=>{let[n,l]=(0,r.useState)(e.inputNumberValue),[s,o]=(0,r.useState)(e.inputDateValue);(0,r.useEffect)(()=>{e.inputDateValue instanceof Date?o(e.inputDateValue.toISOString().split("T")[0]):o(""),"number"==typeof e.inputNumberValue?l(e.inputNumberValue):l("")},[e.inputNumberValue,e.inputDateValue]);let i=e=>{/^[0-9]*\.?[0-9]*$/.test(e.target.value)&&l(e.target.value)};(0,r.useImperativeHandle)(t,()=>({clear(){o(""),l("")}}));let m=e=>{o(e.target.value)},f=()=>{let t=new Date(s),a=t.getTimezoneOffset();t.setMinutes(t.getMinutes()+a),e.onSubmit(parseFloat(n),t)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:e.title}),(0,a.jsxs)(c.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,a.jsx)(c.ZP,{item:!0,xs:5,children:(0,a.jsx)(u.Z,{label:e.inputNumberText,variant:"outlined",type:"text",value:n,onChange:i,fullWidth:!0})}),(0,a.jsx)(c.ZP,{item:!0,xs:5,children:(0,a.jsx)(u.Z,{label:"Date Input",variant:"outlined",type:"date",value:s,onChange:m,fullWidth:!0,InputLabelProps:{shrink:!0}})}),(0,a.jsx)(c.ZP,{item:!0,xs:2,children:(0,a.jsx)(d.Z,{variant:"contained",onClick:f,children:e.buttonText})})]})]})});m.defaultProps={inputNumberText:"Number Input",onSubmit:null,buttonText:"Submit",title:"Title",inputNumberValue:"",inputDateValue:""},m.propTypes={inputNumberText:s().string,onSubmit:s().func,buttonText:s().string,title:s().string,inputNumberValue:s().any,inputDateValue:s().any};var f=n(2882),h=n(629),g=n(7906),p=n(3184),x=n(3816),b=n(3252),C=n(295),w=n(3946),j=n(1797),S=n(6761);let v=e=>(0,a.jsx)(f.Z,{component:h.Z,children:(0,a.jsxs)(g.Z,{children:[(0,a.jsx)(p.Z,{children:(0,a.jsxs)(x.Z,{children:[e.headers.map((e,t)=>(0,a.jsx)(b.Z,{children:e},t)),(0,a.jsx)(b.Z,{})]})}),(0,a.jsx)(C.Z,{children:e.rows.map((t,n)=>(0,a.jsxs)(x.Z,{children:[t.map((e,t)=>(0,a.jsx)(b.Z,{children:e},t)),(0,a.jsxs)(b.Z,{children:[(0,a.jsx)(w.Z,{"aria-label":"edit",onClick:()=>e.onEdit({index:n,row:t}),children:(0,a.jsx)(j.Z,{})}),(0,a.jsx)(w.Z,{"aria-label":"delete",onClick:()=>e.onRemove({index:n,row:t}),children:(0,a.jsx)(S.Z,{})})]})]},n))})]})});v.defaultProps={headers:null,rows:null},v.propTypes={headers:s().arrayOf(s().string).isRequired,rows:s().arrayOf(s().arrayOf(s().node)).isRequired,onEdit:s().func,onRemove:s().func};var y=n(6902),P=n(3156),Z=n(657),D=n(7645),T=n(6514);let F=(0,r.forwardRef)((e,t)=>{let[n,l]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),i=t=>{/^[0-9]*\.?[0-9]*$/.test(t.target.value)&&(e.onNumberChange(parseFloat(t.target.value)),l(t.target.value))},d=t=>{if(""!=t.target.value){let n=new Date(t.target.value),a=n.getTimezoneOffset();n.setMinutes(n.getMinutes()+a),o(n.toISOString().split("T")[0]),e.onDateChange(n)}else o("")};return(0,r.useImperativeHandle)(t,()=>({setNumber(e){l(e)},setDate(e){o(e.toISOString().split("T")[0])},clear(){l(""),o("")}})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:e.title}),(0,a.jsxs)(c.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,a.jsx)(c.ZP,{item:!0,xs:6,children:(0,a.jsx)(u.Z,{label:e.inputNumberText,variant:"outlined",type:"text",value:n,onChange:i,fullWidth:!0})}),(0,a.jsx)(c.ZP,{item:!0,xs:6,children:(0,a.jsx)(u.Z,{label:"Date Input",variant:"outlined",type:"date",value:s,onChange:d,fullWidth:!0,InputLabelProps:{shrink:!0}})})]})]})});F.defaultProps={inputNumberText:"Number Input",title:"Title",onNumberChange:null,onDateChange:null},F.propTypes={inputNumberText:s().string,title:s().string,onNumberChange:s().func,onDateChange:s().func};let I=e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(Z.Z,{open:e.open,onClose:()=>e.setOpen(!1),children:[(0,a.jsx)(D.Z,{children:"Warning"}),(0,a.jsx)(T.Z,{children:(0,a.jsxs)(c.ZP,{container:!0,direction:"column",sx:{my:2},children:[(0,a.jsx)(c.ZP,{item:!0,sx:{my:2},children:e.text}),(0,a.jsxs)(c.ZP,{item:!0,sx:{my:2},display:"flex",flexDirection:"row-reverse",children:[(0,a.jsx)(d.Z,{variant:"contained",onClick:e.onYes,sx:{mr:1},children:"Yes"}),(0,a.jsx)(d.Z,{variant:"contained",onClick:e.onNo,sx:{mr:1},children:"No"})]})]})})]})});I.defaultProps={open:!0,setOpen:null,onYes:null,onNo:null,text:"Message"},I.propTypes={open:s().bool,setOpen:s().func,onYes:s().func,onNo:s().func,text:s().string};let k=(0,r.forwardRef)((e,t)=>{let[n,l]=(0,r.useState)(!1),s=(0,r.useRef)(null),[o,i]=(0,r.useState)(null),u=()=>{m()},m=()=>{l(!0)},f=()=>{l(!1)},h=()=>{l(!1),e.onUpdate(o)};(0,r.useEffect)(()=>{null!=e.inflation&&i({id:e.inflation.id,date:e.inflation.date,value:e.inflation.value})},[]),(0,r.useEffect)(()=>{null!=o&&(s.current.setDate(o.date),s.current.setNumber(o.value))},[o]),(0,r.useImperativeHandle)(t,()=>({setInflation(e){console.log("setInflation"),console.log("inflation: ",e),i(e),s.current.setDate(e.date),s.current.setNumber(e.value)}}));let g=e=>{i({id:o.id,date:e,value:o.value})},p=e=>{i({id:o.id,date:o.date,value:e})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.ZP,{container:!0,direction:"column",sx:{my:2},children:[(0,a.jsx)(c.ZP,{item:!0,sx:{my:2},children:(0,a.jsx)(F,{ref:s,inputNumberText:"Inflation %",onDateChange:g,onNumberChange:p,title:""})}),(0,a.jsxs)(c.ZP,{item:!0,sx:{my:2},display:"flex",flexDirection:"row-reverse",children:[(0,a.jsx)(d.Z,{variant:"contained",onClick:e.onCancel,sx:{mr:1},children:"Cancel"}),(0,a.jsx)(d.Z,{variant:"contained",onClick:u,sx:{mr:1},children:"Update"})]})]}),(0,a.jsx)(I,{open:n,setOpen:l,onYes:h,onNo:f,text:"Are you sure you want to update this record?"})]})});k.defaultProps={inflation:null,onUpdate:null,onCancel:null},k.propTypes={inflation:s().any,onUpdate:s().func,onCancel:s().func};let U=(0,r.forwardRef)((e,t)=>{let[n,l]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1),[i,u]=(0,r.useState)(null),[d,f]=(0,r.useState)({headers:["Id","Date","Inflation %"],rows:[]}),[h,g]=(0,r.useState)(!1),p=(0,r.useRef)(null),x=(0,r.useRef)(null),b=(0,r.useRef)(null),C=async(t,n)=>{u({id:null,date:n,value:t}),e.onAdd({id:null,date:n,value:t})},w=e=>{let t=new Date(e.row[1]),n=t.getTimezoneOffset();t.setMinutes(t.getMinutes()+n),u({id:e.row[0],date:t,value:parseFloat(e.row[2])}),l(!0)},j=()=>{S()},S=()=>{l(!1)},F=t=>{S(),e.onUpdate(t)},U=e=>{u({id:e.row[0],date:e.row[1],value:parseFloat(e.row[2])}),o(!0)},R=()=>{O(),e.onRemove(i)},O=()=>{o(!1)};return(0,r.useImperativeHandle)(t,()=>({clearAdd(){p.current.clear()},clearFilter(){x.current.clear()},setTableData(e){let t=e.map(e=>[e.id,e.date.toISOString().split("T")[0],e.value]);f({headers:["Id","Date","Inflation %"],rows:t}),g(!0)},getFilterData:()=>x.current.getDates()})),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(P.Z,{children:[(0,a.jsxs)(c.ZP,{container:!0,direction:"column",spacing:2,children:[(0,a.jsx)(c.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(m,{ref:p,inputNumberText:"Inflation %",buttonText:"Add",onSubmit:C,title:"Add new inflation data"})}),(0,a.jsx)(c.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(y.r,{ref:x,onSubmit:e.onFilter})}),h?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(c.ZP,{item:!0,xs:12,sm:6,children:[(0,a.jsx)("h2",{children:"Results"}),(0,a.jsx)(v,{headers:d.headers,rows:d.rows,onEdit:w,onRemove:U})]})}):null]}),(0,a.jsxs)(Z.Z,{open:n,onClose:()=>l(!1),children:[(0,a.jsx)(D.Z,{children:"Update inflation"}),(0,a.jsx)(T.Z,{children:(0,a.jsx)(k,{ref:b,inflation:i,onUpdate:F,onCancel:j})})]}),(0,a.jsx)(I,{open:s,setOpen:o,onYes:R,onNo:O,text:"Are you sure you want to delete this record?"})]})})});U.defaultProps={title:"Data",onFilter:null,onAdd:null,onUpdate:null,onRemove:null},U.propTypes={title:s().string,onFilter:s().func,onAdd:s().func,onUpdate:s().func,onRemove:s().func};var R=n(3426),O=n(7357),N=n(5861);let B=e=>{let[t,n]=(0,r.useState)(""),[l,s]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[c,m]=(0,r.useState)(!1),[f,h]=(0,r.useState)(""),[g,p]=(0,r.useState)(""),[x,b]=(0,r.useState)(!1),[C,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{j(e.errorPasswordMismatch)},[e.errorPasswordMismatch]),(0,r.useEffect)(()=>{S(e.errorOldPasswordWrong)},[e.errorOldPasswordWrong]),(0,r.useEffect)(()=>{w(e.errorRequest)},[e.errorRequest]);let j=e=>{e?(m(e),i("Password mismatch")):(m(e),i(""))},S=e=>{e?(b(e),p("Old password wrong")):(b(e),p(""))},v=e=>{n(e.target.value)},y=e=>{s(e.target.value)},P=e=>{h(e.target.value)},Z=n=>{n.preventDefault(),l===f?(j(!1),e.onSubmit(t,l)):j(!0)};return(0,a.jsxs)("form",{onSubmit:Z,children:[(0,a.jsx)(N.Z,{variant:"h5",gutterBottom:!0,children:"Change Password"}),(0,a.jsx)("div",{children:(0,a.jsx)(u.Z,{type:"password",label:"Old Password",value:t,onChange:v,required:!0,margin:"normal",error:x,helperText:g})}),(0,a.jsx)("div",{children:(0,a.jsx)(u.Z,{type:"password",label:"New Password",value:l,onChange:y,required:!0,margin:"normal"})}),(0,a.jsx)("div",{children:(0,a.jsx)(u.Z,{type:"password",label:"Repeat new Password",value:f,onChange:P,required:!0,margin:"normal",error:c,helperText:o})}),(0,a.jsx)(d.Z,{type:"submit",variant:"contained",color:"primary",style:{marginRight:"10px"},children:"Change Password"}),(0,a.jsx)(d.Z,{variant:"contained",color:"primary",style:{marginLeft:"10px"},onClick:e.onCancel,children:"Cancel"}),C&&(0,a.jsx)(N.Z,{variant:"body1",color:"error",gutterBottom:!0,children:"Request failed. Please try again later."})]})};B.defaultProps={onCancel:function(){},onSubmit:function(){},errorPasswordMismatch:!1,errorOldPasswordWrong:!1,errorRequest:!1},B.propTypes={onCancel:s().func,onSubmit:s().func,errorPasswordMismatch:s().bool,errorOldPasswordWrong:s().bool,errorRequest:s().bool};let E=e=>{let[t,n]=(0,r.useState)(""),[l,s]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[f,h]=(0,r.useState)("");(0,r.useEffect)(()=>{e.errorBadPassword?m("Incorrect password"):m("")},[e.errorBadPassword]),(0,r.useEffect)(()=>{e.errorEmptyUser?i("This field cannot be empty"):i("")},[e.errorEmptyUser]),(0,r.useEffect)(()=>{h(e.errorRequest)},[e.errorRequest]);let g=e=>{n(e.target.value)},p=e=>{s(e.target.value)},x=n=>{n.preventDefault();let a=!0;""===t.trim()&&(i("Username is required."),a=!1),""===l.trim()&&(m("Password is required."),a=!1),a&&e.onSubmit(t,l)};return(0,a.jsxs)("form",{onSubmit:x,children:[(0,a.jsxs)(N.Z,{variant:"h6",children:["Current Username: ",e.currentUsername]}),(0,a.jsx)(O.Z,{mb:2,children:(0,a.jsx)(u.Z,{label:"New Username",value:t,onChange:g,required:!0,error:""!==o,helperText:o})}),(0,a.jsx)(O.Z,{mb:2,children:(0,a.jsx)(u.Z,{label:"Password",type:"password",value:l,onChange:p,required:!0,error:""!==c,helperText:c})}),(0,a.jsxs)(O.Z,{display:"flex",children:[(0,a.jsx)(d.Z,{type:"submit",variant:"contained",color:"primary",children:"Change Username"}),(0,a.jsx)(d.Z,{variant:"contained",color:"primary",style:{marginLeft:"10px"},onClick:e.onCancel,children:"Cancel"})]}),f&&(0,a.jsx)(N.Z,{variant:"body1",color:"error",gutterBottom:!0,children:"Request failed. Please try again later."})]})};E.defaultProps={onCancel:function(){},onSubmit:function(){},currentUsername:"admin",errorBadPassword:!1,errorEmptyUser:!1,errorRequest:!1},E.propTypes={currentUsername:s().string.isRequired,onCancel:s().func,onSubmit:s().func,errorBadPassword:s().bool,errorEmptyUser:s().bool,errorRequest:s().bool};let A=(0,r.forwardRef)((e,t)=>{let[n,l]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1),i=()=>{l(!0)},u=()=>{o(!0)},c=()=>{l(!1)},m=()=>{o(!1)};return(0,r.useImperativeHandle)(t,()=>({goBackToMain(){l(!1),o(!1)}})),(0,a.jsxs)(a.Fragment,{children:[!1===n&&!1===s?(0,a.jsxs)(O.Z,{my:2,children:[(0,a.jsx)(N.Z,{variant:"h5",gutterBottom:!0,children:"Admin Profile"}),(0,a.jsxs)(N.Z,{variant:"body1",gutterBottom:!0,children:["Username: ",e.username]}),(0,a.jsx)(d.Z,{variant:"contained",color:"primary",onClick:i,sx:{mr:2},children:"Change Password"}),(0,a.jsx)(d.Z,{variant:"contained",color:"primary",onClick:u,children:"Change Username"})]}):null,n?(0,a.jsx)(B,{onCancel:c,onSubmit:e.onSubmitChangePassword,errorOldPasswordWrong:e.errorOldPasswordWrong,errorRequest:e.errorChangePasswordFailed}):null,s?(0,a.jsx)(E,{onCancel:m,onSubmit:e.onSubmitChangeUsername,errorRequest:e.errorChangeUsernameFailed,errorBadPassword:e.errorChangeUsernameBadPassword}):null]})});A.defaultProps={username:"Admin",onSubmitChangePassword:function(){},onSubmitChangeUsername:function(){},errorPasswordMismatch:!1,errorOldPasswordWrong:!1,errorChangeUsernameBadPassword:!1,errorChangePasswordFailed:!1,errorChangeUsernameFailed:!1},A.propTypes={username:s().string.isRequired,onSubmitChangeUsername:s().func,onSubmitChangePassword:s().func,errorOldPasswordWrong:s().bool,errorPasswordMismatch:s().bool,errorChangePasswordFailed:s().bool,errorChangeUsernameFailed:s().bool,errorChangeUsernameBadPassword:s().bool};let q=(0,r.forwardRef)((e,t)=>{let[n,l]=(0,r.useState)(0),s=(0,r.useRef)(null),u=(0,r.useRef)(null),c=(0,r.useRef)(null),[m,f]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),p=(t,n)=>{l(n),e.onTabChange(n)};return(0,r.useImperativeHandle)(t,()=>({clearAddInputs(){s.current.clearAdd()},clearFilterDataSection(){s.current.clearFilter()},setTableData(e){g(e)},getFilterDataSection:()=>0===n?s.current.getFilterData():null,getFilterChartsSection:()=>1===n?u.current.getFilterData():null,setChartsData(e){f(e)},adminGoBack(){c.current.goBackToMain()}})),(0,r.useEffect)(()=>{0===n&&null!=h&&s.current.setTableData(h)},[h,n]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(O.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)(o.Z,{value:n,onChange:p,"aria-label":"simple tabs example",children:[(0,a.jsx)(i.Z,{label:"Data"}),(0,a.jsx)(i.Z,{label:"Charts"}),(0,a.jsx)(i.Z,{label:"Admin"})]}),(0,a.jsx)(d.Z,{variant:"contained",color:"primary",onClick:e.onLogout,children:"Logout"})]}),0===n&&(0,a.jsx)(U,{ref:s,onAdd:e.onCreateInflation,onFilter:e.onFilterDataSection,onUpdate:e.onUpdateInflation,onRemove:e.onDeleteInflation}),1===n&&(0,a.jsx)(R.t,{ref:u,onFilter:e.onFilterChartSection,data:m}),2===n&&(0,a.jsx)(A,{ref:c,errorOldPasswordWrong:e.errorOldPasswordWrong,onSubmitChangePassword:e.onSubmitChangePassword,onSubmitChangeUsername:e.onSubmitChangeUsername,errorChangePasswordFailed:e.errorChangePassword,errorChangeUsernameFailed:e.errorChangeUsername,errorChangeUsernameBadPassword:e.errorChangeUsernameBadPassword,username:e.username})]})});q.defaultProps={title:"Data",username:"admin",onFilterDataSection:null,onCreateInflation:null,onUpdateInflation:null,onDeleteInflation:null,onFilterChartSection:null,onAddChartSection:null,onTabChange:function(e){},onSubmitChangeUsername:function(e,t){},onSubmitChangePassword:function(e,t){},errorOldPasswordWrong:!1,errorChangeUsername:!1,errorChangePassword:!1,errorChangeUsernameBadPassword:!1,onLogout:function(){}},q.propTypes={title:s().string,username:s().string,onFilterDataSection:s().func,onCreateInflation:s().func,onUpdateInflation:s().func,onDeleteInflation:s().func,onFilterChartSection:s().func,onAddChartSection:s().func,onTabChange:s().func,onSubmitChangeUsername:s().func,onSubmitChangePassword:s().func,errorOldPasswordWrong:s().bool,errorChangeUsername:s().bool,errorChangePassword:s().bool,errorChangeUsernameBadPassword:s().bool,onLogout:s().func};var W=n(3742),L=n(9661),M=n(6720),z=n(3845),V=n(1265),H=n(2430);let Y=(0,V.Z)(),_=e=>{let t=t=>{t.preventDefault();let n=new FormData(t.currentTarget);e.onSignInSubmit({username:n.get("username"),password:n.get("password")})};return(0,a.jsx)(H.Z,{theme:Y,children:(0,a.jsxs)(P.Z,{component:"main",maxWidth:"xs",children:[(0,a.jsx)(M.ZP,{}),(0,a.jsxs)(O.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,a.jsx)(L.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,a.jsx)(z.Z,{})}),(0,a.jsx)(N.Z,{component:"h1",variant:"h5",children:e.title}),(0,a.jsxs)(O.Z,{component:"form",onSubmit:t,noValidate:!0,sx:{mt:1},children:["email"===e.usernameInputType?(0,a.jsx)(u.Z,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:e.usernameText,name:"username",autoComplete:"email",autoFocus:!0}):null,"username"===e.usernameInputType?(0,a.jsx)(u.Z,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:e.usernameText,name:"username",autoFocus:!0}):null,(0,a.jsx)(u.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),e.error&&(0,a.jsx)("p",{style:{color:"red"},children:"Error: Invalid username or password."}),(0,a.jsx)(d.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]})]})]})})};_.defaultProps={onSignInSubmit:function(){},title:"Sign in",usernameText:"Username",usernameInputType:"email",error:!1},_.propTypes={onSignInSubmit:s().func,title:s().string,usernameText:s().string,usernameInputType:s().oneOf(["email","username"]),error:s().bool};var G=n(1163);let Q=()=>{let e=(0,r.useRef)(null),[t,n]=(0,r.useState)(!1),[l,s]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),[f,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),[x,b]=(0,r.useState)(!1),[C,w]=(0,r.useState)(""),j=(0,G.useRouter)();(0,r.useEffect)(()=>{l&&S()},[l]);let S=async()=>{let t=await (0,W.Qr)({startDate:null,endDate:null,inflation:null,token:null});e.current.setTableData(t.inflationList),v(null,null)},v=async(t,n)=>{let a=await (0,W.Rv)({startDate:t,endDate:n});e.current.setChartsData({barChartData:a.barChartData,lineChartData:a.lineChartData})},y=async t=>{let n={inflation:{id:0,date:t.date,value:t.value},startDate:null,endDate:null,token:o},a=await (0,W.fo)(n);1===a.message.id&&(e.current.clearAddInputs(),i(a.token),await P())},P=async()=>{let t=e.current.getFilterData();await Z(t.date1,t.date2)},Z=async(t,n)=>{let a=await (0,W.Qr)({startDate:t,endDate:n,inflation:null,token:o});i(a.token),e.current.setTableData(a.inflationList)},D=async t=>{let n=await (0,W.LM)({inflation:t,startDate:null,endDate:null,token:o});1===n.message.id&&(e.current.clearAddInputs(),i(n.token),await P())},T=async t=>{let n=await (0,W.Li)({inflation:t,startDate:null,endDate:null,token:o});1===n.message.id&&(e.current.clearAddInputs(),i(n.token),await P())};(0,r.useEffect)(()=>{l&&(S(),n(!0))});let F=async(e,t)=>{v(e,t)},I=async e=>{if(!1===l){let t={username:e.username,oldPassword:"",password:e.password,token:""},n=await (0,W.o9)(t);1===n.message.id?(s(!0),b(!1),i(n.token),w(C)):(s(!1),b(!0))}},k=async(t,n)=>{let a=await (0,W.XK)({username:"",oldPassword:t,password:n,token:o});1===a.message.id?(e.current.adminGoBack(),d(!1),i(a.token),m(!1)):-7===a.message.id?(d(!0),m(!1)):(m(!0),d(!1))},U=async(t,n)=>{console.log("onSubmitChangeUsername"),console.log(": ");let a=await (0,W.fu)({username:t,oldPassword:"",password:n,token:o});console.log("response: ",a),1===a.message.id?(e.current.adminGoBack(),w(t),i(a.token),p(!1),h(!1)):-7===a.message.id?(p(!0),h(!1)):(h(!0),p(!1))},R=()=>{i(""),s(!1),j.replace("/")};return(0,a.jsx)(a.Fragment,{children:l?(0,a.jsx)(q,{ref:e,onCreateInflation:y,onFilterDataSection:Z,onDeleteInflation:D,onUpdateInflation:T,onFilterChartSection:F,onSubmitChangePassword:k,onSubmitChangeUsername:U,errorOldPasswordWrong:u,errorChangeUsername:f,errorChangePassword:c,username:C,errorChangeUsernameBadPassword:g,onLogout:R}):(0,a.jsx)(_,{onSignInSubmit:I,error:x})})};var X=Q},3742:function(e,t,n){"use strict";n.d(t,{LM:function(){return m},Li:function(){return c},Qr:function(){return d},Rv:function(){return f},XK:function(){return g},fo:function(){return u},fu:function(){return p},o9:function(){return h}});var a=n(6154),r=n(5582),l=n.n(r);let s="https://localhost:7173";function o(e){var t,n;if(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message){if(Array.isArray(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.inflationList)){let t=e.data.inflationList.map(e=>({id:e.id,date:l()(e.date).toDate(),value:e.value})),n={message:e.data.message,inflationList:t,token:e.data.token};return n}{let t={message:e.data.message,inflationList:[],token:e.data.token};return t}}{let t={message:{id:-2,message:"Communication with server failed"},inflationList:[],token:e.data.token};return t}}function i(e){var t;if(null==e||null===(t=e.data)||void 0===t||!t.message)return{message:{id:-2,message:"Communication with server failed"},token:null};{let t={message:e.data.message,token:e.data.token};return t}}async function u(e){let t=await a.Z.post(s+"/Inflation/create",e);return o(t)}async function d(e){let t=await a.Z.post(s+"/Inflation/read",e);return o(t)}async function c(e){let t=await a.Z.put(s+"/Inflation/update",e);return o(t)}async function m(e){let t=await a.Z.delete(s+"/Inflation/delete/",{data:e});return o(t)}async function f(e){let t=await a.Z.post(s+"/Charts/get-data",e);return function(e){var t;if(null==e||null===(t=e.data)||void 0===t||!t.message)return{message:{id:-2,message:"Communication with server failed"},barChartData:null,lineChartData:null};{let t={message:e.data.message,barChartData:e.data.data.barChartData,lineChartData:e.data.data.lineChartData.data};return t}}(t)}async function h(e){let t=await a.Z.post(s+"/Admin/sign-in",e);return i(t)}async function g(e){let t=await a.Z.post(s+"/Admin/change-password",e);return i(t)}async function p(e){let t=await a.Z.post(s+"/Admin/change-username",e);return i(t)}},381:function(){}}]);